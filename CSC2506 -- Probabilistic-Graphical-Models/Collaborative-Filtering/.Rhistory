pckgs = c("glmnet","caret","knitr", "reshape2", "ggplot2")
func <- function(x){
if(!is.element(x, rownames(installed.packages())))
{install.packages(x, quiet=TRUE, repos = "http://cran.rstudio.com/")}
}
lapply(pckgs, func)
lapply(pckgs, library, character.only=TRUE)
knitr::opts_chunk$set(cache=TRUE)
train.DF <- read.table('Data\spambase.train.txt', header=FALSE, sep=",")
train.DF <- read.table('Data/spambase.train.txt', header=FALSE, sep=",")
train.DF[,"V58"] = as.factor(train.DF[,"V58"])
test.DF <- read.table('Data/spambase.test.txt', header=FALSE, sep=",")
test.DF[,"V58"] = as.factor(test.DF[,"V58"])
#make grid finer and smaller
eGrid <- expand.grid(lambda = seq(0.002,0.1,0.001), alpha = rep(0,100) )
fitControl <- trainControl(method = "cv",
number = 5,
verboseIter = TRUE)
fit <- train(V58 ~.,
data = train.DF,
method = "glmnet",
tuneGrid = eGrid,
trControl = fitControl,
family = "binomial")
